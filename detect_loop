#include<stdio.h>
#include<conio.h>
#include<malloc.h>
#include<stdlib.h>
struct node
{
    int data;
    struct node * link;
};
 struct node *p;

 void create(int num)
 {
     struct node *temp ;
     temp= (struct node *)malloc(sizeof (struct node));
     temp->data =num;
     temp->link= p;
     p=temp;
    }
 int detect_loop()
 {
     struct node *prev , *next ;
     prev=p;
     next=p;
     while(prev&&next&&next->link)
     {
         prev=prev->link;
         next=next->link->link;
         if(prev==next)
         {
             printf("loop detected ");
             return 1;
         }
         return 0;
     }
 }
 int main()
 {
     p=NULL;
     create(1);
     create(2);
     create(3);
     p->link->link->link->link=p;
     detect_loop();
     getchar();
 }
